@import "tailwindcss";

:root {
    /* Portal colors */
    --portal-outer: #0061ff;
    --portal-inner: #00c3ff;
    --portal-glow: #0088ff;
    --portal-edge: #00eeff;
    --portal-energy: #0a84ff;
    --nebula-color: #0f2e5a;

    /* TODO: Need to fix heights and angle them, also need to add them inside */
    /* Preset random heights for segments */
    --h1: 48%;
    --h2: 49%;
    --h3: 50%;
    --h4: 51%;
    --h5: 52%;
    --h6: 53%;

    /* Preset lengths for tendrils and lightning */
    --l1: 30px;
    --l2: 38px;
    --l3: 45px;
    --l4: 52px;
    --l5: 58px;
    --l6: 65px;
}

/* Cosmic Portal Container */
.portal-container {
    @apply relative z-10 overflow-visible;
    width: 300px;
    height: 300px;
    margin: 0 auto;
    aspect-ratio: 1 / 1;
}

@media (min-width: 768px) {
    .portal-container {
        width: 400px;
        height: 400px;
    }
}

@media (min-width: 1024px) {
    .portal-container {
        width: 500px;
        height: 500px;
    }
}

/* Portal base (black hole) */
.portal-base {
    @apply absolute rounded-full bg-black;
    width: 90%;
    height: 90%;
    top: 5%;
    left: 5%;
    overflow: hidden;
    box-shadow: 0 0 40px 5px rgba(0, 0, 0, 0.8) inset;
    z-index: 1;
    aspect-ratio: 1 / 1;
}

/* Inner stars visible through portal */
.portal-stars {
    @apply absolute rounded-full overflow-hidden;
    width: 100%;
    height: 100%;
    background-color: black;
    background-image:
            radial-gradient(1px 1px at 15px 15px, white 50%, transparent 100%),
            radial-gradient(1px 1px at 30px 25px, white 50%, transparent 100%),
            radial-gradient(1px 1px at 45px 45px, white 50%, transparent 100%),
            radial-gradient(1px 1px at 60px 70px, white 50%, transparent 100%),
            radial-gradient(1.2px 1.2px at 75px 85px, white 50%, transparent 100%),
            radial-gradient(1px 1px at 90px 25px, white 50%, transparent 100%),
            radial-gradient(1.2px 1.2px at 105px 45px, white 50%, transparent 100%),
            radial-gradient(1px 1px at 120px 65px, white 50%, transparent 100%),
            radial-gradient(1.2px 1.2px at 135px 70px, white 50%, transparent 100%),
            radial-gradient(1px 1px at 150px 15px, white 50%, transparent 100%),
            radial-gradient(1.2px 1.2px at 165px 95px, white 50%, transparent 100%),
            radial-gradient(1px 1px at 180px 45px, white 50%, transparent 100%);
    background-size: 200px 200px;
    animation: slowSpin 120s linear infinite;
}

/* Energy segments to create irregular circle */
.energy-segment {
    @apply absolute;
    background-color: var(--portal-energy);
    width: 3%;
    left: 48.5%;
    top: 0;
    transform-origin: center bottom;
    box-shadow:
            0 0 3px 1px var(--portal-edge),
            0 0 6px 2px var(--portal-energy);
    filter: blur(1px);
    animation: segmentPulse 4s infinite alternate;
}

/* Create segment variants with different heights */
.energy-segment-1 {
    height: var(--h1);
    animation-delay: 0.1s;
}

.energy-segment-2 {
    height: var(--h2);
    animation-delay: 0.2s;
}

.energy-segment-3 {
    height: var(--h3);
    animation-delay: 0.3s;
}

.energy-segment-4 {
    height: var(--h4);
    animation-delay: 0.4s;
}

.energy-segment-5 {
    height: var(--h5);
    animation-delay: 0.5s;
}

.energy-segment-6 {
    height: var(--h6);
    animation-delay: 0.6s;
}

/* Tendril variants with different lengths */
.tendril-1 {
    height: var(--l1);
    animation-delay: 0.1s;
}

.tendril-2 {
    height: var(--l2);
    animation-delay: 0.3s;
}

.tendril-3 {
    height: var(--l3);
    animation-delay: 0.5s;
}

.tendril-4 {
    height: var(--l4);
    animation-delay: 0.7s;
}

.tendril-5 {
    height: var(--l5);
    animation-delay: 0.9s;
}

.tendril-6 {
    height: var(--l6);
    animation-delay: 1.1s;
}

/* Lightning variants */
.lightning-1 {
    height: var(--l3);
    animation-delay: 0.2s;
}

.lightning-2 {
    height: var(--l4);
    animation-delay: 1.2s;
}

.lightning-3 {
    height: var(--l5);
    animation-delay: 2.2s;
}

.lightning-4 {
    height: var(--l6);
    animation-delay: 3.2s;
}

/* Outer tendrils container */
.tendrils-container {
    @apply absolute;
    width: 110%;
    height: 110%;
    top: -5%;
    left: -5%;
    z-index: 1;
    animation: slowRotate 60s linear infinite;
}

/* Tendril styling */
.tendril {
    @apply absolute;
    background-color: var(--portal-inner);
    width: 2px;
    transform-origin: center center;
    opacity: 0.7;
    filter: blur(1px);
    box-shadow: 0 0 8px 2px var(--portal-energy);
    animation: tendrilPulse 8s infinite alternate;
}

/* Lightning container */
.lightning-container {
    @apply absolute w-full h-full;
    z-index: 4;
}

/* Lightning bolt styling */
.lightning-bolt {
    @apply absolute;
    background-color: #00eeff;
    width: 2px;
    transform-origin: center center;
    filter: blur(1px);
    opacity: 0;
    box-shadow: 0 0 12px 3px var(--portal-edge);
    animation: lightningFlash 5s infinite;
}

/* Animation keyframes */
@keyframes segmentPulse {
    0% {
        opacity: 0.85;
    }
    50% {
        opacity: 1;
    }
    100% {
        opacity: 0.95;
        height: calc(var(--h1) + 3%);
    }
}

@keyframes tendrilPulse {
    0% {
        opacity: 0.3;
    }
    50% {
        opacity: 0.8;
    }
    100% {
        opacity: 0.5;
        height: calc(var(--l1) + 15px);
    }
}

@keyframes lightningFlash {
    0%, 90%, 100% {
        opacity: 0;
        height: 0;
    }
    92%, 95% {
        opacity: 0.9;
        height: var(--l6);
    }
    93% {
        opacity: 1;
        height: var(--l6);
    }
}

@keyframes slowSpin {
    from {
        transform: rotate(0deg);
    }
    to {
        transform: rotate(360deg);
    }
}

@keyframes slowRotate {
    from {
        transform: rotate(0deg);
    }
    to {
        transform: rotate(360deg);
    }
}
